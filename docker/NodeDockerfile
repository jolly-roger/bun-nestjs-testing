FROM node

EXPOSE 10301

WORKDIR /node-nestjs-testing

COPY package.json package.json
COPY tsconfig.json tsconfig.json
COPY tsconfig.build.json tsconfig.build.json
COPY nest-cli.json nest-cli.json
COPY eslint.config.mjs eslint.config.mjs
COPY src src

RUN npm install
RUN npm run build

CMD [ "npm", "run", "start:prod" ]
